% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/BATD_extract.R
\name{BATD_extract}
\alias{BATD_extract}
\title{Unified Brain Gauge Data Extraction}
\usage{
BATD_extract(list_of_filenames, site, format = "auto")
}
\arguments{
\item{list_of_filenames}{A character vector of file or folder paths to extract.
Can be a mix of NF files (.txt) and OF folder structures.}

\item{site}{Character string specifying the site where data was collected
(e.g., "JHU", "UCLA", "KKI"). Used for protocol name mapping.}

\item{format}{Character string specifying expected format: "auto" (default) for
automatic detection, or explicitly "NF" or "OF". Use manual specification if
auto-detection is unreliable.}
}
\value{
A dataframe containing extracted trial-level data with columns for:
  - Participant details (id, race, gender, handedness, birthYear)
  - Session info (date, time, session, run)
  - Protocol info (protocol, protocolName, numberofPracticeTrials, etc.)
  - Stimulus characteristics (stim1amplitude, stim2amplitude, etc.)
  - Performance metrics (value, expected, response, correctResponse, responseTime)
  - Extraction metadata (format, extractedBy, Site)
}
\description{
Intelligently extracts data from Brain Gauge files in either NF (newer format)
or OF (older format). Auto-detects the format and routes to the appropriate
extraction function. This is the recommended entry point for most users.
}
\details{
The function automatically detects file format using `detect_file_format()`:
- **NF format**: Single .txt file per participant with Brain Gauge device data
- **OF format**: Nested folder structure for Brain Gauge Research Edition data

For files with ambiguous format (confidence < 0.7), the function will warn and
use the detected format. To override, specify `format` parameter explicitly.

All output is standardized to common dataframe structure regardless of source format.
}
\examples{
\dontrun{
  # Auto-detect format (recommended)
  data <- BATD_extract(
    list.files(pattern = "\\\\.txt$"),
    site = "UCLA"
  )

  # Explicitly specify format if auto-detection fails
  data <- BATD_extract(
    list.files(pattern = "\\\\.txt$"),
    site = "JHU",
    format = "NF"
  )

  # Extract from old format folders
  data <- BATD_extract(
    "path/to/participant_folder",
    site = "KKI",
    format = "OF"
  )
}

}
\seealso{
[BATD_extract_NF()] for NF-specific extraction with fine-grained control
  [BATD_extract_OF()] for OF-specific extraction with fine-grained control
  [detect_file_format()] for format detection details
}
